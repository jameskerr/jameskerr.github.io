<!DOCTYPE html>
<html>
  <title>The Power of ActiveRecord's '#update' | James Kerr</title>
  <meta name="description" content="A Ruby, Elixir, and JavaScript developer in San Francisco, CA">
  <meta name="viewport" content="initial-scale=1">
  <meta name="og:image" content="http://jameskerr.info/assets/james_andrew_kerr_3-0af59e185323503bb247b34df7b35809.jpg">
  <meta name="og:url" content="http://jameskerr.info/ruby/rails/activerecord/2016/06/20/the-power-of-active-record-update.html">

	<script src="//use.typekit.net/cla0hon.js"></script>
	<script>try{Typekit.load();}catch(e){}</script>

  <link rel="stylesheet" href="/assets/site-da0a6cfca1dc709ba09d2d934c3235d2.css">
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-52167003-1', 'auto');
    ga('send', 'pageview');
  </script>

  <body>
    <div id="drawer-overlay" class="drawer-overlay"></div>
    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">James <span class="k"> ){</span>err</a>

    <svg id="nav-menu" class="menu-icon" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
      <path d="M0,2 30,2" stroke="#222" stroke-width="3"/>
      <path d="M0,10 30,10" stroke="#222" stroke-width="3"/>
      <path d="M0,18 30,18" stroke="#222" stroke-width="3"/>
    </svg>

    <nav class="site-nav">
  <ul>
  
    
    	
      <li ><a href="/">Home</a>
      </li><span class="slash">/</span>
    
  
    
    	
      <li ><a href="/work">Work</a>
      </li><span class="slash">/</span>
    
  
    
    	
      <li ><a href="/about">About</a>
      </li><span class="slash">/</span>
    
  
    
    	
      <li ><a href="/blog">Blog</a>
      </li><span class="slash">/</span>
    
  
    
    	
      <li ><a href="/contact">Contact</a>
      </li>
    
  
  </ul>
</nav>
  </div>

</header>


    <div class="page-content">
      <main class="post-content content">

  <header class="post-header wrapper">
    <h1 class="post-title">The Power of ActiveRecord's '#update'</h1>
    <p class="post-meta">Jun 20, 2016</p>
  </header>

  <article class="post-body content">
    <p>We all strive to keep our controllers skinny. The first sign of a fattening controller is commonly in the <code>update</code> action.  This action is responsible for updating a record in the database based on parameters passed in from a form or ajax (the <a href="https://en.wikipedia.org/wiki/Ajax_%28mythology%29">mythological Greek hero</a>).</p>

<p>In this post, the data will model a country.  Let&#39;s use the rails generator to scaffold a controller for us.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">rails generate scaffold_controller Country
</code></pre></div><div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># countries_controller.rb</span>

  <span class="c1"># PATCH/PUT /countries/1</span>
  <span class="c1"># PATCH/PUT /countries/1.json</span>
  <span class="k">def</span> <span class="nf">update</span>
    <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
      <span class="k">if</span> <span class="vi">@country</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">country_params</span><span class="p">)</span>
        <span class="nb">format</span><span class="o">.</span><span class="n">html</span> <span class="p">{</span> <span class="n">redirect_to</span> <span class="vi">@country</span><span class="p">,</span> <span class="ss">notice</span><span class="p">:</span> <span class="s1">&#39;Country was successfully updated.&#39;</span> <span class="p">}</span>
        <span class="nb">format</span><span class="o">.</span><span class="n">json</span> <span class="p">{</span> <span class="n">render</span> <span class="ss">:show</span><span class="p">,</span> <span class="ss">status</span><span class="p">:</span> <span class="ss">:ok</span><span class="p">,</span> <span class="ss">location</span><span class="p">:</span> <span class="vi">@country</span> <span class="p">}</span>
      <span class="k">else</span>
        <span class="nb">format</span><span class="o">.</span><span class="n">html</span> <span class="p">{</span> <span class="n">render</span> <span class="ss">:edit</span> <span class="p">}</span>
        <span class="nb">format</span><span class="o">.</span><span class="n">json</span> <span class="p">{</span> <span class="n">render</span> <span class="ss">json</span><span class="p">:</span> <span class="vi">@country</span><span class="o">.</span><span class="n">errors</span><span class="p">,</span> <span class="ss">status</span><span class="p">:</span> <span class="ss">:unprocessable_entity</span> <span class="p">}</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
</code></pre></div>
<p>This is the most complex action rails generates for us.  Look at all it does already:</p>

<ol>
<li>Validates the model before updating</li>
<li>Updates the model</li>
<li>Handles a successful update by rendering the <code>show</code> view</li>
<li>Handles failure by rolling back the changes and rendering the errors</li>
<li>Responds to both <code>json</code> and <code>html</code> request formats</li>
</ol>

<p>Considering all it does with only eight lines of code, I deem it beautiful.  We must take action to defend said beauty.  The following three feature requests will attempt to attack this action, but if we understand rails and the power of the <code>update</code> method, we can keep this looking like it was just generated.</p>

<h2 id="request-#1">Request #1</h2>

<p><strong>A country has a &quot;government_type&quot; attribute that needs to default to &quot;anarchy&quot; if not specified in the form/ajax.</strong></p>

<p>The sad solution is to modify the <code>params</code> hash before passing it to update.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">update</span>
  <span class="n">params</span><span class="o">[</span><span class="ss">:government_type</span><span class="o">]</span> <span class="o">||=</span> <span class="s2">&quot;anarchy&quot;</span>

  <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
      <span class="k">if</span> <span class="vi">@country</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">country_params</span><span class="p">)</span>
    <span class="c1"># ... the same</span>
</code></pre></div>
<p>Even worse...</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">update</span>
  <span class="k">if</span> <span class="n">params</span><span class="o">[</span><span class="ss">:government_type</span><span class="o">]</span>
    <span class="n">params</span><span class="o">[</span><span class="ss">:government_type</span><span class="o">]</span> <span class="o">=</span> <span class="s2">&quot;anarchy&quot;</span>
  <span class="k">end</span>

  <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
      <span class="k">if</span> <span class="vi">@country</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">country_params</span><span class="p">)</span>
    <span class="c1"># ... the same</span>
</code></pre></div>
<p>Instead, add a default column to the database.  This ensures that every time you create a new country, it gets the default <code>government_type</code>.  The migration might look like this.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">rails generate migration add_default_government_type_to_country
</code></pre></div>
<p>Then open up the new file and add...</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># db/migrate/add_default_government_type_to_country.rb</span>

<span class="k">class</span> <span class="nc">AddDefaultGovernmentTypeToCountry</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Migration</span>

  <span class="k">def</span> <span class="nf">change</span>
    <span class="n">change_column</span> <span class="ss">:countries</span><span class="p">,</span> <span class="ss">:government_type</span><span class="p">,</span> <span class="ss">:string</span><span class="p">,</span> <span class="p">{</span> <span class="ss">default</span><span class="p">:</span> <span class="s2">&quot;anarchy&quot;</span><span class="p">,</span> <span class="ss">null</span><span class="p">:</span> <span class="kp">false</span> <span class="p">}</span>
    <span class="c1">#              table^      column^           type^          options^</span>

    <span class="c1"># Note: In ruby methods, the brackets {} for a</span>
    <span class="c1">#       hash are optional if they are the last</span>
    <span class="c1">#       argument in the method definition.  It</span>
    <span class="c1">#       took me a year to figure that out.  So</span>
    <span class="c1">#       the options at the end could have been</span>
    <span class="c1">#       written like default: 88, null: false</span>
    <span class="c1">#       Way more sexy. Way more &quot;Ruby&quot;.</span>
  <span class="k">end</span>

<span class="k">end</span>
</code></pre></div>
<p>After migrating your database with <code>rake db:migrate</code>, you are good to go with consistent defaults everywhere, including your skinny controller.</p>

<h2 id="request-#2">Request #2</h2>

<p><strong>The form submits a comma-separated string for a country&#39;s flag colors, but the database expects an array of strings.</strong></p>

<p>We live in the future.  Our relational database allows us to store an array in a column.  Our javascript dropdown library submits a comma-separated string to the rails back-end and its too hard to try to fit it into an array style param.</p>

<p>One might be tempted to write something like...</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">update</span>
  <span class="n">params</span><span class="o">[</span><span class="ss">:flag_colors</span><span class="o">]</span> <span class="o">=</span> <span class="n">params</span><span class="o">[</span><span class="ss">:flag_colors</span><span class="o">].</span><span class="n">to_s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>

  <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
    <span class="k">if</span> <span class="vi">@country</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">country_params</span><span class="p">)</span>
    <span class="c1"># ... the same</span>
</code></pre></div>
<p>However, if we check out what <code>update</code> is actually doing, we see that it is looping through each <code>key =&gt; value</code> in the <code>country_params</code> hash.  Then it tries to send <code>&quot;#{key}=&quot;</code> to <code>@country</code>, passing in <code>value</code> as an argument.</p>

<p>For example, if the params hash looked like this,</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="p">{</span>
  <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span>
  <span class="ss">government_type</span><span class="p">:</span> <span class="s2">&quot;democracy&quot;</span><span class="p">,</span>
  <span class="ss">flag_colors</span><span class="p">:</span> <span class="s2">&quot;red,white,blue&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>the update method would effectively be doing this...</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="vi">@country</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;USA&quot;</span><span class="p">)</span>
<span class="vi">@country</span><span class="o">.</span><span class="n">government_type</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;democracy&quot;</span><span class="p">)</span>
<span class="vi">@country</span><span class="o">.</span><span class="n">flag_colors</span><span class="o">=</span><span class="p">(</span><span class="s2">&quot;red,white,blue&quot;</span><span class="p">)</span>
</code></pre></div>
<p>This means that if we override the County Class&#39;s <code>flag_colors=</code> method, we&#39;d be able to avoid fattening our controller.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># models/country.rb</span>

<span class="k">def</span> <span class="nf">flag_colors</span><span class="o">=</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
  <span class="k">if</span> <span class="n">value</span><span class="o">.</span><span class="n">is_a?</span> <span class="nb">String</span>
    <span class="k">super</span> <span class="n">value</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
  <span class="k">else</span>
    <span class="k">super</span>
    <span class="c1"># Note: Calling super with no arguments or parenthesis</span>
    <span class="c1">#       will call the old `flag_colors=` method with the same</span>
    <span class="c1">#       exact arguments that were passed in to this new</span>
    <span class="c1">#       one we just defined.  Nifty.</span>
    <span class="c1">#</span>
    <span class="c1">#       Also, always be sure to retain original behavior</span>
    <span class="c1">#       when overriding a setter, hence calling super.</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>Nice, now we don&#39;t have to change the glorious update action.</p>

<h2 id="request-#3">Request #3</h2>

<p><strong>We must now be able to add citizens to a country through the form.</strong></p>

<p>You can imagine the front-end team made a super nice UI widget that allows public servants to add or update citizens in a country.  This gets tricky and there are many ways to handle these associations.  Lets enumerate through the options we have.</p>

<p><strong>After we update the country, add the citizens?</strong></p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">update</span>
  <span class="n">respond_to</span> <span class="k">do</span> <span class="o">|</span><span class="nb">format</span><span class="o">|</span>
    <span class="k">if</span> <span class="vi">@country</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">country_params</span><span class="p">)</span>
    <span class="n">citizen_params</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">citizen</span><span class="o">|</span>
      <span class="n">citizen</span> <span class="o">=</span> <span class="no">Citizen</span><span class="o">.</span><span class="n">find_or_initialize</span><span class="p">(</span><span class="n">citizen</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
      <span class="vi">@country</span><span class="o">.</span><span class="n">citizens</span> <span class="o">&lt;&lt;</span> <span class="n">citizen</span>
    <span class="k">end</span>
  <span class="c1"># same same</span>
</code></pre></div>
<p>Aww, I don&#39;t like this because now I need to wrap this all in a transaction because what if one fails, and then I need to collect a custom array of error messages in case one of the citizen update fails... and ... and ... and ... code ... code ... code.</p>

<p><strong>Create a separate action the just handles updating the citizens?</strong></p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="k">def</span> <span class="nf">update_citizens</span>
  <span class="vi">@country</span> <span class="o">=</span> <span class="no">Country</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="ss">:id</span><span class="p">)</span>
  <span class="n">citizen_params</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">citizen</span><span class="o">|</span>
    <span class="n">citizen</span> <span class="o">=</span> <span class="no">Citizen</span><span class="o">.</span><span class="n">find_or_initialize</span><span class="p">(</span><span class="n">citizen</span><span class="o">[</span><span class="ss">:id</span><span class="o">]</span><span class="p">)</span>
    <span class="vi">@country</span><span class="o">.</span><span class="n">citizens</span> <span class="o">&lt;&lt;</span> <span class="n">citizen</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre></div>
<p>I don&#39;t like creating non-default actions in my controllers. And what about error handling?  Besides, our fearless leader <a href="http://jeromedalbert.com/how-dhh-organizes-his-rails-controllers/">DHH says stick to the default CRUD actions</a>.</p>

<p><strong>Use accepts_nested_attributes_for and don&#39;t touch the controller?</strong> <em>YES, Winner!</em></p>

<p>Rails provides a built-in way for us to create, update, and delete children objects through the parent.  It requires that we add a one line to the parent model and format our params a special way.</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># models/country.rb</span>

<span class="k">class</span> <span class="nc">Country</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">has_many</span> <span class="ss">:citizens</span>
  <span class="n">accepts_nested_attributes_for</span> <span class="ss">:citizens</span><span class="p">,</span> <span class="ss">allow_destroy</span><span class="p">:</span> <span class="kp">true</span> <span class="c1"># Add this one line</span>
<span class="k">end</span>
</code></pre></div>
<p>Now make sure your params hash has the key <code>citizens_attributes</code> (the plural name of the child model followed by &quot;_attributes&quot;) which is an array of the children&#39;s attributes to update.  For example...</p>
<div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="c1"># puts country_params</span>
<span class="p">{</span>
  <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;USA&quot;</span><span class="p">,</span>
  <span class="ss">government_type</span><span class="p">:</span> <span class="s2">&quot;Democracy&quot;</span><span class="p">,</span>
  <span class="ss">citizens_attributes</span><span class="p">:</span> <span class="o">[</span>
    <span class="p">{</span>
      <span class="nb">id</span><span class="p">:</span> <span class="mi">33</span><span class="p">,</span> <span class="c1"># The presence of an :id key</span>
              <span class="c1"># will update an existing citizen.</span>
      <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;Bernie Sanders&quot;</span><span class="p">,</span>
      <span class="ss">age</span><span class="p">:</span> <span class="mi">150</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="c1"># The lack of an :id key</span>
      <span class="c1"># will create a new citizen.</span>
      <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;Baby Jane&quot;</span><span class="p">,</span>
      <span class="ss">age</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="p">{</span>
    <span class="nb">id</span><span class="p">:</span> <span class="mi">105</span><span class="p">,</span>
    <span class="nb">name</span><span class="p">:</span> <span class="s2">&quot;Edward Snowden&quot;</span>
    <span class="ss">_destroy</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span> <span class="c1"># Setting the :_destroy key to &quot;1&quot;</span>
                  <span class="c1"># will destroy a citizen.</span>
  <span class="p">}</span>
  <span class="o">]</span>
<span class="p">}</span>
</code></pre></div>
<p>The comments above show that you can control creation, updation (it&#39;s a word I just made up), and deletion all with the params.  The controller remains untouched.</p>

<p>I&#39;ve found this to be very useful in my rails experience, however, it can be taken too far.  Please don&#39;t attempt to update everything in the database through one model. It can be much better to hit another resource&#39;s controller.  In this case, we could create a Citizens controller and pass the <code>country_id</code> to the create action.  The choice is yours, but at least now you are armed with the knowledge of what <code>update()</code> can do for you.</p>

<p>Please share with me other approaches you&#39;ve discovered to keep a controller update action simple.</p>

  </article>

  <div id="disqus_thread" class="wrapper"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'jameskerr'; // Required - Replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

</main>

    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="navigation">
      <h3>Navigate</h3>
      <nav class="site-nav">
  <ul>
  
    
    	
      <li ><a href="/">Home</a>
      </li><span class="slash">/</span>
    
  
    
    	
      <li ><a href="/work">Work</a>
      </li><span class="slash">/</span>
    
  
    
    	
      <li ><a href="/about">About</a>
      </li><span class="slash">/</span>
    
  
    
    	
      <li ><a href="/blog">Blog</a>
      </li><span class="slash">/</span>
    
  
    
    	
      <li ><a href="/contact">Contact</a>
      </li>
    
  
  </ul>
</nav>
    </div>

    <div class="social-media">
      <h3>Social Media</h3>
      <ul>
        <li>
          <a href="https://github.com/jameskerr">
            <span class="icon  icon--github">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/>
              </svg>
            </span>

            <span class="username">Github</span>
          </a>
        </li>

        <li>
          <a href="https://twitter.com/jkerr838">
            <span class="icon  icon--twitter">
              <svg viewBox="0 0 16 16">
                <path fill="#828282" d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/>
              </svg>
            </span>

            <span class="username">Twitter</span>
          </a>
        </li>

        <li>
          <a href="https://www.linkedin.com/pub/james-kerr/37/636/388">
            <span class="icon icon--linked-in">
              <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" height="1000" width="1036" viewBox="0 0 1000 1036" enable-background="new 0 0 1000 1036" ><path d="M0 120q0-50 35-82.5t91-32.5q55 0 89 32 35 33 35 86 0 48-34 80-35 33-92 33l-1 0q-55 0-89-33t-34-83zm13 875l0-668l222 0l0 668l-222 0zm345 0l222 0l0-373q0-35 8-54 14-34 42.5-57.5t71.5-23.5q112 0 112 151l0 357l222 0l0-383q0-148-70-224.5t-185-76.5q-129 0-201 111l0 2l-1 0l1-2l0-95l-222 0q2 32 2 199t-2 469z"/>
              </svg>
            </span>
            <span class="username">Linked In</span>
          </a>
        </li>

        <li>
          <a href="https://www.facebook.com/jkerr838">
          <span class="icon icon--facebook">

            <svg height="1000" width="857.143" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" height="1000" width="1036" viewBox="0 0 1000 857.143" enable-background="new 0 0 1000 857.143" ><path d="M729.306 512.308l12.834 -122.202h-110.484v-60.822q0 -27.342 8.649 -38.223t39.897 -10.881h61.38v-122.202h-97.65q-84.816 0 -121.644 40.176t-36.828 118.854v73.098h-73.098v122.202h73.098v354.33h146.196v-354.33h97.65zm127.782 -280.116v535.68q0 66.402 -47.151 113.553t-113.553 47.151h-535.68q-66.402 0 -113.553 -47.151t-47.151 -113.553v-535.68q0 -66.402 47.151 -113.553t113.553 -47.151h535.68q66.402 0 113.553 47.151t47.151 113.553z"/></svg>
          </span>
          <span class="username">Facebook</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="contact">
      <h3>Email</h3>
      <ul class="contact-list">
        <li><a href="mailto:jkerr838@gmail.com">jkerr838@gmail.com</a></li>
      </ul>
    </div>

  </div>

</footer>

    <script src="/assets/site-c0fa57ebf7504bcbc99c617cfad5e52a.js"></script>
  </body>
</html>
